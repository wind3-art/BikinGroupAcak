<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pembuat Kelompok Acak untuk Guru</title>
    <style>
        /* Reset dan gaya dasar */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
            padding: 15px;
            max-width: 100%;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 10px;
        }
        
        /* Header */
        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 15px;
            background: linear-gradient(135deg, #3a7bd5, #00d2ff);
            border-radius: 15px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        header p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        /* Panel utama */
        .main-panel {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4rem;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 8px;
        }
        
        /* Input area */
        .input-section {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #3a7bd5;
        }
        
        textarea {
            width: 100%;
            min-height: 180px;
            padding: 15px;
            border: 2px solid #dde7f3;
            border-radius: 10px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 15px;
            transition: border 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #3a7bd5;
        }
        
        .input-info {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        /* Kontrol input */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-group {
            flex: 1;
            min-width: 150px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dde7f3;
            border-radius: 10px;
            font-size: 1rem;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: #3a7bd5;
        }
        
        /* Tombol aksi */
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            min-width: 140px;
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: #3a7bd5;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2c66c1;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }
        
        /* Hasil kelompok */
        .results-section {
            display: none;
            margin-top: 25px;
        }
        
        .results-section.show {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .groups-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .group {
            flex: 1;
            min-width: 100%;
            background-color: #f8fbff;
            border-radius: 10px;
            padding: 15px;
            border-left: 5px solid #3a7bd5;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .group-title {
            font-weight: 700;
            color: #3a7bd5;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px dashed #dde7f3;
            font-size: 1.1rem;
        }
        
        .group-member {
            padding: 8px 10px;
            margin-bottom: 5px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .group-member:last-child {
            margin-bottom: 0;
        }
        
        /* Footer */
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #eaeaea;
        }
        
        /* Responsif untuk tablet dan desktop */
        @media (min-width: 600px) {
            body {
                padding: 20px;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .group {
                min-width: calc(50% - 15px);
            }
        }
        
        @media (min-width: 900px) {
            .group {
                min-width: calc(33.333% - 15px);
            }
        }
        
        /* Ikon dengan CSS */
        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .icon-shuffle {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/%3E%3C/svg%3E");
        }
        
        .icon-reset {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Pembuat Kelompok Acak</h1>
            <p>Aplikasi sederhana untuk membuat kelompok secara acak - cocok untuk guru</p>
        </header>
        
        <main>
            <div class="main-panel">
                <section class="input-section">
                    <h2>Masukkan Data Siswa</h2>
                    <p class="input-info">Masukkan daftar nama siswa (satu nama per baris). Anda bisa menyalin dari Excel atau mengetik manual.</p>
                    
                    <textarea id="nameInput" placeholder="Contoh:
Andi
Budi
Citra
Dewi
Eka
Fajar
..."></textarea>
                    
                    <div class="controls">
                        <div class="control-group">
                            <label for="totalNames">Jumlah Nama yang Diacak:</label>
                            <input type="number" id="totalNames" min="1" value="10">
                            <p class="input-info">Kosongkan atau isi 0 untuk menggunakan semua nama</p>
                        </div>
                        
                        <div class="control-group">
                            <label for="groupSize">Jumlah Anggota per Kelompok:</label>
                            <input type="number" id="groupSize" min="1" value="3">
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button id="shuffleBtn" class="btn btn-primary">
                            <span class="icon icon-shuffle"></span>
                            Acak Kelompok
                        </button>
                        <button id="resetBtn" class="btn btn-secondary">
                            <span class="icon icon-reset"></span>
                            Reset
                        </button>
                    </div>
                </section>
                
                <section id="resultsSection" class="results-section">
                    <h2>Hasil Pengacakan Kelompok</h2>
                    <p id="resultSummary" class="input-info"></p>
                    <div id="groupsContainer" class="groups-container">
                        <!-- Hasil kelompok akan muncul di sini -->
                    </div>
                </section>
            </div>
        </main>
        
        <footer>
            <p>Aplikasi Pembuat Kelompok Acak &copy; 2023 - Dirancang khusus untuk kebutuhan guru</p>
            <p>Tidak memerlukan koneksi internet setelah diunduh</p>
        </footer>
    </div>

    <script>
        // Fungsi untuk mendapatkan daftar nama dari input
        function getNamesList() {
            const nameInput = document.getElementById('nameInput').value;
            // Memisahkan berdasarkan baris baru dan menghapus baris kosong
            return nameInput.split('\n')
                .map(name => name.trim())
                .filter(name => name.length > 0);
        }
        
        // Fungsi untuk mengacak array (Fisher-Yates shuffle algorithm)
        function shuffleArray(array) {
            const newArray = [...array]; // Salin array agar tidak merusak array asli
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]]; // Tukar elemen
            }
            return newArray;
        }
        
        // Fungsi untuk membuat kelompok berdasarkan parameter
        function createGroups(names, groupSize) {
            // Acak urutan nama
            const shuffledNames = shuffleArray(names);
            
            // Hitung jumlah kelompok yang dibutuhkan
            const totalNames = shuffledNames.length;
            const totalGroups = Math.ceil(totalNames / groupSize);
            
            // Buat array kelompok
            const groups = [];
            for (let i = 0; i < totalGroups; i++) {
                groups.push([]);
            }
            
            // Isi kelompok dengan nama
            for (let i = 0; i < totalNames; i++) {
                const groupIndex = Math.min(Math.floor(i / groupSize), totalGroups - 1);
                groups[groupIndex].push(shuffledNames[i]);
            }
            
            return groups;
        }
        
        // Fungsi untuk menampilkan hasil kelompok
        function displayGroups(groups) {
            const groupsContainer = document.getElementById('groupsContainer');
            const resultSummary = document.getElementById('resultSummary');
            const resultsSection = document.getElementById('resultsSection');
            
            // Kosongkan kontainer sebelumnya
            groupsContainer.innerHTML = '';
            
            // Tampilkan ringkasan hasil
            const totalNames = groups.reduce((total, group) => total + group.length, 0);
            const totalGroups = groups.length;
            resultSummary.textContent = `Total ${totalNames} siswa dibagi ke dalam ${totalGroups} kelompok.`;
            
            // Tampilkan setiap kelompok
            groups.forEach((group, index) => {
                const groupElement = document.createElement('div');
                groupElement.className = 'group';
                
                const groupTitle = document.createElement('div');
                groupTitle.className = 'group-title';
                groupTitle.textContent = `Kelompok ${index + 1} (${group.length} orang)`;
                
                groupElement.appendChild(groupTitle);
                
                // Tambahkan setiap anggota kelompok
                group.forEach(member => {
                    const memberElement = document.createElement('div');
                    memberElement.className = 'group-member';
                    memberElement.textContent = member;
                    groupElement.appendChild(memberElement);
                });
                
                groupsContainer.appendChild(groupElement);
            });
            
            // Tampilkan bagian hasil
            resultsSection.classList.add('show');
            
            // Scroll ke hasil
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Fungsi untuk mereset aplikasi
        function resetApp() {
            document.getElementById('nameInput').value = '';
            document.getElementById('totalNames').value = '10';
            document.getElementById('groupSize').value = '3';
            document.getElementById('resultsSection').classList.remove('show');
        }
        
        // Fungsi utama untuk mengacak kelompok
        function shuffleGroups() {
            // Ambil semua nama dari input
            let allNames = getNamesList();
            
            // Jika tidak ada nama yang dimasukkan, gunakan contoh
            if (allNames.length === 0) {
                allNames = [
                    "Andi", "Budi", "Citra", "Dewi", "Eka", 
                    "Fajar", "Gita", "Hadi", "Indra", "Joko",
                    "Kartika", "Lina", "Maya", "Nina", "Oki"
                ];
                document.getElementById('nameInput').value = allNames.join('\n');
            }
            
            // Ambil parameter dari input pengguna
            const totalNamesInput = parseInt(document.getElementById('totalNames').value) || 0;
            const groupSize = parseInt(document.getElementById('groupSize').value) || 1;
            
            // Batasi jumlah nama jika diminta
            let namesToUse = allNames;
            if (totalNamesInput > 0 && totalNamesInput < allNames.length) {
                namesToUse = allNames.slice(0, totalNamesInput);
            }
            
            // Validasi input
            if (namesToUse.length === 0) {
                alert('Silakan masukkan nama siswa terlebih dahulu.');
                return;
            }
            
            if (groupSize <= 0) {
                alert('Jumlah anggota per kelompok harus lebih dari 0.');
                return;
            }
            
            // Buat dan tampilkan kelompok
            const groups = createGroups(namesToUse, groupSize);
            displayGroups(groups);
        }
        
        // Event listeners
        document.getElementById('shuffleBtn').addEventListener('click', shuffleGroups);
        document.getElementById('resetBtn').addEventListener('click', resetApp);
        
        // Contoh data saat pertama kali membuka aplikasi
        window.addEventListener('DOMContentLoaded', function() {
            const exampleNames = [
                "Andi Wijaya", "Budi Santoso", "Citra Lestari", "Dewi Anggraini", 
                "Eka Putra", "Fajar Nugroho", "Gita Maharani", "Hadi Pratama",
                "Indra Saputra", "Joko Susilo", "Kartika Dewi", "Lina Wati",
                "Maya Sari", "Nina Fitriani", "Oki Fernando", "Putri Ayu",
                "Rizky Ramadhan", "Sari Indah", "Teguh Kurniawan", "Wulan Septiani"
            ];
            
            // Isi contoh nama jika textarea kosong
            const nameInput = document.getElementById('nameInput');
            if (nameInput.value.trim() === '') {
                nameInput.value = exampleNames.join('\n');
            }
            
            // Set nilai default untuk jumlah nama yang diacak
            const totalNamesInput = document.getElementById('totalNames');
            if (!totalNamesInput.value || totalNamesInput.value === '0') {
                totalNamesInput.value = exampleNames.length;
            }
        });
        
        // Validasi input angka secara real-time
        document.getElementById('totalNames').addEventListener('input', function() {
            const value = parseInt(this.value);
            const allNames = getNamesList();
            
            if (value > allNames.length) {
                this.value = allNames.length;
            }
        });
        
        document.getElementById('groupSize').addEventListener('input', function() {
            const value = parseInt(this.value);
            
            if (value < 1) {
                this.value = 1;
            }
        });
    </script>
</body>
</html>